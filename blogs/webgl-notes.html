<!DOCTYPE html>

<html>
    <head>
        <title>WebGL Notes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" href="../css/style.css">
        <link rel="stylesheet" href="../css/document.css">

        <script src="../js/htmlDocUtils.js"></script>
    </head>
    <body>
        <article>
            <header>
                <h1>WebGL Notes</h1>
                <p class='authorinfo'>Sarkuya, <time>2019-05-26</time></p>
            </header>

            <section class="chapter">
                <h1>Query Info</h1>
                <dl class="function-prototype">
                    <dt>GLenum getError()</dt>
                    <dd></dd>

                    <dt>any getBufferParameter(GLenum target, GLenum pname)</dt>
                    <dd>
                        <table>
                            <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                            <tbody>
                                <tr><td>BUFFER_SIZE</td><td>GLint</td></tr>
                                <tr><td>BUFFER_USAGE</td><td>GLenum</td></tr>
                            </tbody>
                        </table>
                    </dd>

                    <dt>any getFramebufferAttachmentParameter(GLenum target, GLenum attachment, GLenum pname)</dt>
                    <dd>
                        <table>
                            <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                            <tbody>
                                <tr><td>FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE</td><td>GLenum</td></tr>
                                <tr><td>FRAMEBUFFER_ATTACHMENT_OBJECT_NAME</td><td>WebGLRenderbuffer or WebGLTexture</td></tr>
                                <tr><td>FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL</td><td>GLint</td></tr>
                                <tr><td>FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE</td><td>GLint</td></tr>
                            </tbody>
                        </table>
                    </dd>

                    <dt>any getRenderbufferParameter(GLenum target, GLenum pname)</dt>
                    <dd>
                        <table>
                            <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                            <tbody>
                                <tr><td>RENDERBUFFER_WIDTH</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_HEIGHT</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_INTERNAL_FORMAT</td><td>GLenum</td></tr>
                                <tr><td>RENDERBUFFER_RED_SIZE</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_GREEN_SIZE</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_BLUE_SIZE</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_ALPHA_SIZE</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_DEPTH_SIZE</td><td>GLint</td></tr>
                                <tr><td>RENDERBUFFER_STENCIL_SIZE</td><td>GLint</td></tr>
                            </tbody>
                        </table>
                    </dd>

                    <dt>any getTexParameter(GLenum target, GLenum pname)</dt>
                    <dd>
                        <table>
                            <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                            <tbody>
                                <tr><td>TEXTURE_MAG_FILTER</td><td>GLenum</td></tr>
                                <tr><td>TEXTURE_MIN_FILTER</td><td>GLenum</td></tr>
                                <tr><td>TEXTURE_WRAP_S</td><td>GLenum</td></tr>
                                <tr><td>TEXTURE_WRAP_T</td><td>GLenum</td></tr>
                            </tbody>
                        </table>
                    </dd>

                    <dt>any getProgramParameter(WebGLProgram program, GLenum pname)</dt>
                    <dd>
                        <table>
                            <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                            <tbody>
                                <tr><td>DELETE_STATUS</td><td>GLboolean</td></tr>
                                <tr><td>LINK_STATUS</td><td>GLboolean</td></tr>
                                <tr><td>VALIDATE_STATUS</td><td>GLboolean</td></tr>
                                <tr><td>ATTACHED_SHADERS</td><td>GLint</td></tr>
                                <tr><td>ACTIVE_ATTRIBUTES</td><td>GLint</td></tr>
                                <tr><td>ACTIVE_UNIFORMS</td><td>GLint</td></tr>
                            </tbody>
                        </table>
                    </dd>

                    <dt>DOMString? getProgramInfoLog(WebGLProgram program)</dt>
                    <dd></dd>
                </dl>

                <section>
                    <h1>Shaders</h1>
                    <dl class="function-prototype">
                        <dt>getActiveAttrib(WebGLProgram program, GLuint index)</dt>
                        <dd></dd>

                        <dt>WebGLActiveInfo? getActiveUniform(WebGLProgram program, GLuint index)</dt>
                        <dd></dd>

                        <dt>[WebGLHandlesContextLoss] GLint getAttribLocation(WebGLProgram program, DOMString name)</dt>
                        <dd></dd>

                        <dt>any getVertexAttrib(GLuint index, GLenum pname)</dt>
                        <dd>
                            <table>
                                <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                                <tbody>
                                    <tr><td>VERTEX_ATTRIB_ARRAY_BUFFER_BINDING</td><td>WebGLBuffer</td></tr>
                                    <tr><td>VERTEX_ATTRIB_ARRAY_ENABLED</td><td>GLboolean</td></tr>
                                    <tr><td>VERTEX_ATTRIB_ARRAY_SIZE</td><td>GLint</td></tr>
                                    <tr><td>VERTEX_ATTRIB_ARRAY_STRIDE</td><td>GLint</td></tr>
                                    <tr><td>VERTEX_ATTRIB_ARRAY_TYPE</td><td>GLenum</td></tr>
                                    <tr><td>VERTEX_ATTRIB_ARRAY_NORMALIZED</td><td>GLboolean</td></tr>
                                    <tr><td>CURRENT_VERTEX_ATTRIB</td><td>Float32Array (with 4 elements)</td></tr>
                                </tbody>
                            </table>
                        </dd>

                        <dt>any getShaderParameter(WebGLShader shader, GLenum pname)</dt>
                        <dd>
                            <table>
                                <thead><tr><th>pname</th><th>returned type</th></tr></thead>
                                <tbody>
                                    <tr><td>SHADER_TYPE</td><td>GLenum</td></tr>
                                    <tr><td>DELETE_STATUS</td><td>GLboolean</td></tr>
                                    <tr><td>COMPILE_STATUS</td><td>GLboolean</td></tr>
                                </tbody>
                            </table>
                        </dd>

                        <dt>WebGLShaderPrecisionFormat? getShaderPrecisionFormat(GLenum shadertype, GLenum precisiontype)</dt>
                        <dd></dd>

                        <dt>DOMString? getShaderInfoLog(WebGLShader shader)</dt>
                        <dd></dd>

                        <dt>DOMString? getShaderSource(WebGLShader shader)</dt>
                        <dd></dd>

                        <dt>any getUniform(WebGLProgram program, WebGLUniformLocation location)</dt>
                        <dd>
                            <table>
                                <thead><tr><th>uniform type</th><th>returned type</th></tr></thead>
                                <tbody>
                                    <tr><td>boolean</td><td>GLboolean</td></tr>
                                    <tr><td>int</td><td>GLint</td></tr>
                                    <tr><td>float</td><td>GLfloat</td></tr>
                                    <tr><td>vec2</td><td>Float32Array (with 2 elements)</td></tr>
                                    <tr><td>ivec2</td><td>Int32Array (with 2 elements)</td></tr>
                                    <tr><td>bvec2</td><td>sequence&lt;GLboolean&gt; (with 2 elements)</td></tr>
                                    <tr><td>vec3</td><td>Float32Array (with 3 elements)</td></tr>
                                    <tr><td>ivec3</td><td>Int32Array (with 3 elements)</td></tr>
                                    <tr><td>bvec3</td><td>sequence&lt;GLboolean&gt; (with 3 elements)</td></tr>
                                    <tr><td>vec4</td><td>Float32Array (with 4 elements)</td></tr>
                                    <tr><td>ivec4</td><td>Int32Array (with 4 elements)</td></tr>
                                    <tr><td>bvec4</td><td>sequence&lt;GLboolean&gt; (with 4 elements)</td></tr>
                                    <tr><td>mat2</td><td>Float32Array (with 4 elements)</td></tr>
                                    <tr><td>mat3</td><td>Float32Array (with 9 elements)</td></tr>
                                    <tr><td>mat4</td><td>Float32Array (with 16 elements)</td></tr>
                                    <tr><td>sampler2D</td><td>GLint</td></tr>
                                    <tr><td>samplerCube</td><td>GLint</td></tr>
                                </tbody>
                            </table>
                        </dd>

                        <dt>WebGLUniformLocation? getUniformLocation(WebGLProgram program, DOMString name)</dt>
                        <dd></dd>

                        <dt>[WebGLHandlesContextLoss] GLsizeiptr getVertexAttribOffset(GLuint index, GLenum pname)</dt>
                        <dd></dd>
                    </dl>
                    <p>Additional, invoke the <span class="function-name">getParameter</span> function with the following constants:</p>
                    <ul>
                        <li>ELEMNT_ARRAY_BUFFER_BINDING</li>
                        <li>MAX_VERTEX_ATTRIBS</li>
                    </ul>
                </section>

                <section>
                    <h1>General</h1>
                    <dl class="function-prototype">
                        <dt>any getParameter(GLenum pname)</dt>
                        <dd>
                            <table>
                                <thead>
                                    <tr><th>pname</th><th>returned type</th></tr>
                                </thead>
                                <tbody>
                                    <tr><td>ACTIVE_TEXTURE</td><td>GLenum</td></tr>
                                    <tr><td>ALIASED_LINE_WIDTH_RANGE</td><td>Float32Array (with 2 elements)</td></tr>
                                    <tr><td>ALIASED_POINT_SIZE_RANGE</td><td>Float32Array (with 2 elements)</td></tr>
                                    <tr><td>ALPHA_BITS</td><td>GLint</td></tr>
                                    <tr><td>ARRAY_BUFFER_BINDING</td><td>WebGLBuffer</td></tr>
                                    <tr><td>BLEND</td><td>GLboolean</td></tr>
                                    <tr><td>BLEND_COLOR</td><td>Float32Array (with 4 values)</td></tr>
                                    <tr><td>BLEND_DST_ALPHA</td><td>GLenum</td></tr>
                                    <tr><td>BLEND_DST_RGB</td><td>GLenum</td></tr>
                                    <tr><td>BLEND_EQUATION_ALPHA</td><td>GLenum</td></tr>
                                    <tr><td>BLEND_EQUATION_RGB</td><td>GLenum</td></tr>
                                    <tr><td>BLEND_SRC_ALPHA</td><td>GLenum</td></tr>
                                    <tr><td>BLEND_SRC_RGB</td><td>GLenum</td></tr>
                                    <tr><td>BLUE_BITS</td><td>GLint</td></tr>
                                    <tr><td>COLOR_CLEAR_VALUE</td><td>Float32Array (with 4 values)</td></tr>
                                    <tr><td>COLOR_WRITEMASK</td><td>sequence&lt;GLboolean&gt; (with 4 values)</td></tr>
                                    <tr><td>COMPRESSED_TEXTURE_FORMATS</td><td>Uint32Array</td></tr>
                                    <tr><td>CULL_FACE</td><td>GLboolean</td></tr>
                                    <tr><td>CULL_FACE_MODE</td><td>GLenum</td></tr>
                                    <tr><td>CURRENT_PROGRAM</td><td>WebGLProgram</td></tr>
                                    <tr><td>DEPTH_BITS</td><td>GLint</td></tr>
                                    <tr><td>DEPTH_CLEAR_VALUE</td><td>GLfloat</td></tr>
                                    <tr><td>DEPTH_FUNC</td><td>GLenum</td></tr>
                                    <tr><td>DEPTH_RANGE</td><td>Float32Array (with 2 elements)</td></tr>
                                    <tr><td>DEPTH_TEST</td><td>GLboolean</td></tr>
                                    <tr><td>DEPTH_WRITEMASK</td><td>GLboolean</td></tr>
                                    <tr><td>DITHER</td><td>GLboolean</td></tr>
                                    <tr><td>ELEMENT_ARRAY_BUFFER_BINDING</td><td>WebGLBuffer</td></tr>
                                    <tr><td>FRAMEBUFFER_BINDING</td><td>WebGLFramebuffer</td></tr>
                                    <tr><td>FRONT_FACE</td><td>GLenum</td></tr>
                                    <tr><td>GENERATE_MIPMAP_HINT</td><td>GLenum</td></tr>
                                    <tr><td>GREEN_BITS</td><td>GLint</td></tr>
                                    <tr><td>IMPLEMENTATION_COLOR_READ_FORMAT</td><td>GLenum</td></tr>
                                    <tr><td>IMPLEMENTATION_COLOR_READ_TYPE</td><td>GLenum</td></tr>
                                    <tr><td>LINE_WIDTH</td><td>GLfloat</td></tr>
                                    <tr><td>MAX_COMBINED_TEXTURE_IMAGE_UNITS</td><td>GLint</td></tr>
                                    <tr><td>MAX_CUBE_MAP_TEXTURE_SIZE</td><td>GLint</td></tr>
                                    <tr><td>MAX_FRAGMENT_UNIFORM_VECTORS</td><td>GLint</td></tr>
                                    <tr><td>MAX_RENDERBUFFER_SIZE</td><td>GLint</td></tr>
                                    <tr><td>MAX_TEXTURE_IMAGE_UNITS</td><td>GLint</td></tr>
                                    <tr><td>MAX_TEXTURE_SIZE</td><td>GLint</td></tr>
                                    <tr><td>MAX_VARYING_VECTORS</td><td>GLint</td></tr>
                                    <tr><td>MAX_VERTEX_ATTRIBS</td><td>GLint</td></tr>
                                    <tr><td>MAX_VERTEX_TEXTURE_IMAGE_UNITS</td><td>GLint</td></tr>
                                    <tr><td>MAX_VERTEX_UNIFORM_VECTORS</td><td>GLint</td></tr>
                                    <tr><td>MAX_VIEWPORT_DIMS</td><td>Int32Array (with 2 elements)</td></tr>
                                    <tr><td>PACK_ALIGNMENT</td><td>GLint</td></tr>
                                    <tr><td>POLYGON_OFFSET_FACTOR</td><td>GLfloat</td></tr>
                                    <tr><td>POLYGON_OFFSET_FILL</td><td>GLboolean</td></tr>
                                    <tr><td>POLYGON_OFFSET_UNITS</td><td>GLfloat</td></tr>
                                    <tr><td>RED_BITS</td><td>GLint</td></tr>
                                    <tr><td>RENDERBUFFER_BINDING</td><td>WebGLRenderbuffer</td></tr>
                                    <tr><td>RENDERER</td><td>DOMString</td></tr>
                                    <tr><td>SAMPLE_ALPHA_TO_COVERAGE</td><td>GLboolean</td></tr>
                                    <tr><td>SAMPLE_BUFFERS</td><td>GLint</td></tr>
                                    <tr><td>SAMPLE_COVERAGE</td><td>GLboolean</td></tr>
                                    <tr><td>SAMPLE_COVERAGE_INVERT</td><td>GLboolean</td></tr>
                                    <tr><td>SAMPLE_COVERAGE_VALUE</td><td>GLfloat</td></tr>
                                    <tr><td>SAMPLES</td><td>GLint</td></tr>
                                    <tr><td>SCISSOR_BOX</td><td>Int32Array (with 4 elements)</td></tr>
                                    <tr><td>SCISSOR_TEST</td><td>GLboolean</td></tr>
                                    <tr><td>SHADING_LANGUAGE_VERSION</td><td>DOMString</td></tr>
                                    <tr><td>STENCIL_BACK_FAIL</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_BACK_FUNC</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_BACK_PASS_DEPTH_FAIL</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_BACK_PASS_DEPTH_PASS</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_BACK_REF</td><td>GLint</td></tr>
                                    <tr><td>STENCIL_BACK_VALUE_MASK</td><td>GLuint</td></tr>
                                    <tr><td>STENCIL_BACK_WRITEMASK</td><td>GLuint</td></tr>
                                    <tr><td>STENCIL_BITS</td><td>GLint</td></tr>
                                    <tr><td>STENCIL_CLEAR_VALUE</td><td>GLint</td></tr>
                                    <tr><td>STENCIL_FAIL</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_FUNC</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_PASS_DEPTH_FAIL</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_PASS_DEPTH_PASS</td><td>GLenum</td></tr>
                                    <tr><td>STENCIL_REF</td><td>GLint</td></tr>
                                    <tr><td>STENCIL_TEST</td><td>GLboolean</td></tr>
                                    <tr><td>STENCIL_VALUE_MASK</td><td>GLuint</td></tr>
                                    <tr><td>STENCIL_WRITEMASK</td><td>GLuint</td></tr>
                                    <tr><td>SUBPIXEL_BITS</td><td>GLint</td></tr>
                                    <tr><td>TEXTURE_BINDING_2D</td><td>WebGLTexture</td></tr>
                                    <tr><td>TEXTURE_BINDING_CUBE_MAP</td><td>WebGLTexture</td></tr>
                                    <tr><td>UNPACK_ALIGNMENT</td><td>GLint</td></tr>
                                    <tr><td>UNPACK_COLORSPACE_CONVERSION_WEBGL</td><td>GLenum</td></tr>
                                    <tr><td>UNPACK_FLIP_Y_WEBGL</td><td>GLboolean</td></tr>
                                    <tr><td>UNPACK_PREMULTIPLY_ALPHA_WEBGL</td><td>GLboolean</td></tr>
                                    <tr><td>VENDOR</td><td>DOMString</td></tr>
                                    <tr><td>VERSION</td><td>DOMString</td></tr>
                                    <tr><td>VIEWPORT</td><td>Int32Array (with 4 elements)</td></tr>
                                </tbody>
                            </table>
                        </dd>
                    </dl>
                </section>
            </section>
            
            <section class="chapter">
                <h1>Getting Information Examples</h1>
                
                <section>
                    <h1>Getting Active Attributes</h1>
                    <pre class="highlight">
var maxVertexAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);

for (var i = 0; i < maxVertexAttribs; i++) {
    var activeAttrib = gl.getActiveAttrib(gl.program, i);

    if (activeAttrib) {
        console.log(i);
        console.log(activeAttrib);
    }
}
</pre>
                    <p>An attribute variable is considered active if it is determined during the link operation that it may be accessed during program execution.</p>
                    <p><span class="variable-name">i</span> means the enabled attribute array's index. <span class="variable-name">activeAttrib</span> is an instance of WebGLActiveInfo.</p>
                    <pre class="highlight">
WebGLActiveInfo {
    name: "vPosition",
    size: 1,
    type: 35666        // 0x8B52, const GLenum FLOAT_VEC4
}
</pre>
                    <p>To use <span class="function-name">getActiveAttrib</span> method, you should pass the index of the attribute, which sometimes you don't know. In this situation, you'd have to act like above to iterate all of the vertex attributes. Second, the info returned by this method is less verbose than <span class="function-name">getVertexAttrib</span> method. See below.</p>
                </section>
                
                <section>
                    <h1>Getting Vertex Attributes</h1>
                    <pre class="highlight">
var maxVertexAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);

for (var i = 0; i < maxVertexAttribs; i++) {
    var flag = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_ENABLED);

    if (flag) {
        var bufferBinding = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING);
        var isEnabled = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_ENABLED);
        var arraySize = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_SIZE);
        var arrayStride = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_STRIDE);
        var arrayType = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_TYPE);
        var isNormalized = gl.getVertexAttrib(i, gl.VERTEX_ATTRIB_ARRAY_NORMALIZED);
        var currentVertexAttrib = gl.getVertexAttrib(i, gl.CURRENT_VERTEX_ATTRIB);

        console.log(i);                      // 0
        console.log(bufferBinding);          // WebGLBuffer
        console.log(isEnabled);              // true
        console.log(arraySize);              // 2
        console.log(arrayStride);            // 0
        console.log(arrayType);              // 5126
        console.log(isNormalized);           // false
        console.log(currentVertexAttrib);    // Float32Array [0, 0, 0, 1]
    }
}
</pre>
                </section>
                
                <section>
                    <h1>Getting Attribute Location</h1>
                    <pre class="highlight">
var index = gl.getAttribLocation(gl.program, "vPosition");
console.log(index);
</pre>
                    <p>Returns the index of the generic attribute that is bound to that attribute variable.</p>
                    <p></p>
                    <p></p>
                    <p></p>
                    <p></p>
                </section>
            </section>

            <section class="reference">
                <h1>References</h1>
                
                <h2>Source Codes</h2>
                <ul>
                    <li><a href="https://github.com/PacktPublishing/Real-Time-3D-Graphics-with-WebGL-2" target="_blank">Real-Time-3D-Graphics-with-WebGL-2</a></li>
                </ul>
            </section>

            <footer><p class="copyright">All rights reserved.</p></footer>
        </article>
    </body>
</html>
