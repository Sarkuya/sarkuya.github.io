<?xml version="1.0"?>

<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" 
                     "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">

<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     version="1.1"
     width="480" height="420">

    <title>WebGL Pipelines</title>
    
    <script type="application/ecmascript" xlink:href="../../../../../js/svg-grid.js"></script>
    
    <script type="application/ecmascript">
        function init() {
            svgBkGrid.setupGrid(50);
        }
        
        //window.addEventListener("load", init);
    </script>
    
    <defs>
        <marker id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="4" markerHeight="3" orient="auto">
            <path d="M 0 0 L 10 5 L 0 10 z" fill="green" />
        </marker>
    </defs>

    <g>
        <use xlink:href="#axes" />
        <use xlink:href="#tickMarks" />
        <use xlink:href="#markLabels" />
        <use xlink:href="#grid" />
        
        <text x="13" y="20" font-family="verdana" font-size="12" fill="black">JavaScript Client</text>
        <text x="256" y="20" font-family="verdana" font-size="12" fill="black">WebGL (GPU)</text>

        <line x1="5" y1="30" x2="477" y2="30" stroke="#ccc" />
        <line x1="125" y1="5" x2="125" y2="375" stroke="#ccc" />

        <rect x="48" y="85" width="30" height="30" fill="#ccc" stroke="#999" />
        <text x="58" y="105" font-family="verdana" font-size="12" fill="#333">gl</text>

        <text x="102" y="90" font-family="verdana" font-size="10" fill="#999">createBuffer()</text>
        <path d="M 92 100 h 80 " fill="none" stroke="green" stroke-width="4" marker-end="url(#triangle)" />

        <rect x="202" y="85" width="70" height="30" fill="#ccc" stroke="#999" />
        <text x="220" y="105" font-family="verdana" font-size="12" fill="#333">buffer</text>

        <rect x="48" y="172" width="30" height="30" fill="#ccc" stroke="#999" />
        <text x="58" y="192" font-family="verdana" font-size="12" fill="#333">gl</text>

        <text x="118" y="176" font-family="verdana" font-size="10" fill="#999">bindBuffer()</text>
        <path d="M 92 187 h 120 " fill="none" stroke="green" stroke-width="4" marker-end="url(#triangle)" />
        
        <rect x="233" y="183" width="10" height="10" fill="red" stroke="#333" />
        <text x="253" y="192" font-family="verdana" font-size="12" fill="brown">ARRAY_BUFFER</text>
        
        <path d="M 238 122 v 40 " fill="none" stroke="green" stroke-width="4" marker-end="url(#triangle)" />
        
        <rect x="28" y="260" width="70" height="30" fill="#ccc" stroke="#999" />
        <text x="39" y="278" font-family="verdana" font-size="12" fill="#333">vertices</text>
        
        <text x="138" y="265" font-family="verdana" font-size="10" fill="#999">gl.bufferData()</text>
        <path d="M 116 275 h 122 v -63" fill="none" stroke="green" stroke-width="4" marker-end="url(#triangle)" />
        
        <rect x="48" y="348" width="30" height="30" fill="#ccc" stroke="#999" />
        <text x="58" y="368" font-family="verdana" font-size="12" fill="#333">gl</text>
        
        <text x="142" y="352" font-family="verdana" font-size="10" fill="#999">drawArrays()</text>
        <path d="M 92 363 h 208 v -150 " fill="none" stroke="green" stroke-width="4" marker-end="url(#triangle)" />
        
        <path d="M 354 187 h 40 " fill="none" stroke="green" stroke-width="4" marker-end="url(#triangle)" />
        
        <text x="405" y="152" font-family="verdana" font-size="10" fill="#000">Frame Buffer</text>
        <rect x="412" y="162" width="50" height="50" fill="black" stroke="#eee" />
        <path d="M 437 170 l -15 30 l 30 0 z" fill="yellow" stroke="black" />
    </g>
</svg>