<!DOCTYPE html>

<html>
    <head>
        <title>HTML Escaple</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="../css/style.css">
        
        <style type="text/css">
            form fieldset {
                display: grid;
                grid-template-columns: 135px 1fr;
                grid-gap: 20px 10px;
                background-color: #eee;
            }
            
            form fieldset legend {
                color: chocolate;
                font-weight: bold;
            }
            
            form fieldset label {
                font-weight: bold;
                text-align: right;
            }
            
            form fieldset label:after {
                content: ":";
            }
            
            form fieldset textarea:focus {
                background-color: cornsilk;
            }
            
            form fieldset div:first-of-type {
                grid-row: 2;
                grid-column: 2;
            }
            
            form fieldset label:nth-of-type(2) {
                grid-row: 3;
                grid-column: 1;
            }
            
            form fieldset #escapedstring {
                grid-row: 3;
                grid-column: 2;
            }
            
            form fieldset div:last-of-type {
                grid-row: 4;
                grid-column: 2;
            }
            
            form fieldset input[type='button'] {
                width: 150px;
            }
        </style>
        
        <script type="text/javascript">
            function init() {
                document.getElementById("escapebutton").addEventListener("click", onEscape);
                document.getElementById("copybutton").addEventListener("click", onCopy);
            }
            
            function onEscape(event) {
                var htmlString = document.getElementById("htmlstring").value;
                
                htmlString = htmlString.replace(/</gi, "&lt;").replace(/>/gi, "&gt;");
                
                document.getElementById("escapedstring").value = htmlString;
            }
            
            function onCopy(event) {
                document.getElementById("escapedstring").select();
                document.execCommand("copy");
            }
            
            window.addEventListener("DOMContentLoaded", init);
        </script>
    </head>
    <body>
        <h1>HTML Escape</h1>
        
        <form>
            <fieldset>
                <legend>HTML Escape</legend>
                <label>HTML String</label><textarea id="htmlstring" rows="30" cols="20"></textarea>
                <div><input type="button" id='escapebutton' value="Escape" /></div>
                <label>Escaped String</label><textarea id="escapedstring" rows="30" cols="20"></textarea>
                <div><input type="button" id='copybutton' value="Copy To Clipboard" /></div>
            </fieldset>
        </form>
    </body>
</html>
